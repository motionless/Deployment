@using Motionless.Deployment.Data.Model
@model Motionless.Deployment.Data.Model.Environment
<fieldset>
	<legend>Environment</legend>
	@Html.HiddenFor(m => m.Id)
	<div class="control-group">
		@Html.LabelFor(model => model.Name, new { @class = "control-label" })

		<div class="controls">
			@Html.EditorFor(model => model.Name)
			@Html.ValidationMessageFor(model => model.Name)
		</div>
	</div>
	<div class="control-group">
		@Html.LabelFor(model => model.IsDeleted, new { @class = "control-label" })

		<div class="controls">
			@Html.EditorFor(model => model.IsDeleted)
			@Html.ValidationMessageFor(model => model.IsDeleted)
		</div>
	</div>

	<div class="control-group">
		@Html.LabelFor(model => model.Stage, new { @class = "control-label" })

		<div class="controls">
			@Html.DropDownListFor(model => model.Stage, Enum.GetNames(typeof(Stage)).Select(name => new SelectListItem() { Text = name, Value = ((int)Enum.Parse(typeof(Stage), name)).ToString() }))
			@Html.ValidationMessageFor(model => model.Stage)
		</div>
	</div>
	<div class="control-group">
		@Html.LabelFor(model => model.Product, new { @class = "control-label" })

		<div class="controls">
			@Html.DropDownListFor(model => model.Product, Product.FindAll().Select(p => new SelectListItem(){Text = p.Name, Value = p.Id.ToString()}))
			@Html.ValidationMessageFor(model => model.Product)
		</div>
	</div>
	@*<div class="control-group">
		@Html.LabelFor(model => model.CreatedAt, new { @class = "control-label" })

		<div class="controls">
			@Html.EditorFor(model => model.CreatedAt)
			@Html.ValidationMessageFor(model => model.CreatedAt)
		</div>
	</div>
	<div class="control-group">
		@Html.LabelFor(model => model.UpdatedAt, new { @class = "control-label" })

		<div class="controls">
			@Html.EditorFor(model => model.UpdatedAt)
			@Html.ValidationMessageFor(model => model.UpdatedAt)
		</div>
	</div>*@

	<div class="control-group">
		<div class="controls">
			<button type="submit" class="btn">@Request.RequestContext.RouteData.Values["Action"]</button>
		</div>
	</div>

</fieldset>
